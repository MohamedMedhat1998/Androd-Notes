<!DOCTYPE html>
<!-- saved from url=(0061)https://developer.android.com/guide/components/fragments.html -->
<html lang="en" itemscope="" itemtype="http://schema.org/Article"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script async="" src="./Fragments _ Android Developers_files/async-ads.js.download"></script><script type="text/javascript" async="" src="./Fragments _ Android Developers_files/linkid.js.download"></script><script async="" src="./Fragments _ Android Developers_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Fragments _ Android Developers_files/recaptcha__en.js.download"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>





<meta name="xsrf_token" content="mPJA-jeYecsVp1IodBzLExrPnCX94Y3sSxIn-41D0c46MTUxMTgwNzM1ODUyNzcxMA">

  
    <link rel="canonical" href="https://developer.android.com/guide/components/fragments.html">
  

  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=ru" hreflang="ru">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=zh-tw" hreflang="zh-Hant">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=vi" hreflang="vi">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=ja" hreflang="ja">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=ko" hreflang="ko">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=zh-cn" hreflang="zh-Hans">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=id" hreflang="id">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=pt-br" hreflang="pt-br">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html?hl=es-419" hreflang="es-419">
  
    <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ru" hreflang="ru-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-tw" hreflang="zh-Hant-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=vi" hreflang="vi-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ja" hreflang="ja-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ko" hreflang="ko-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-cn" hreflang="zh-Hans-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=id" hreflang="id-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=pt-br" hreflang="pt-br-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=es-419" hreflang="es-419-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html" hreflang="en-cn">
  

  <link rel="alternate" href="https://developer.android.com/guide/components/fragments.html" hreflang="x-default">




<link rel="shortcut icon" href="https://developer.android.com/_static/51b0267136/images/android/favicon.png">

<link rel="apple-touch-icon" href="https://developer.android.com/_static/51b0267136/images/android/touchicon-180.png">


<title>

  Fragments | Android Developers

</title>

  <meta name="description" content="A Fragment represents a behavior or a portion of user interface in an Activity. You can combine multiple fragments in a single activity to build a multi-pane UI and reuse a fragment in multiple activities. You can think of a fragment as a modular section…">



  <meta itemprop="dateModified" content="2017-11-14T18:08:18.298430">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="./Fragments _ Android Developers_files/css">
<link rel="stylesheet" href="./Fragments _ Android Developers_files/css(1)" title="roboto">
<link rel="stylesheet" href="./Fragments _ Android Developers_files/dac-devsite.css">







<link href="./Fragments _ Android Developers_files/default.css" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="./Fragments _ Android Developers_files/android_3p-bundle.js.download" type="text/javascript"></script>
<script src="./Fragments _ Android Developers_files/script_foot_closure_android.js.download"></script>
<script src="./Fragments _ Android Developers_files/script_foot_android.js.download"></script>

<script type="text/javascript">
  var toRoot = '/';
  devsite.permissions.init({"f62218c009ec029abef196bba5aa34cf": true, "098dafe57affddc137df300142652cfd": false, "8e03e230de0bd8a6fe173fdf172e8b3f": false, "cb025a64a50094835616312f4774a53d": true, "c95bf81627eb648c2345aec06a66200a": false, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="./Fragments _ Android Developers_files/docs.js.download" type="text/javascript"></script>


<script src="./Fragments _ Android Developers_files/jsapi" type="text/javascript"></script><link type="text/css" href="./Fragments _ Android Developers_files/default+en.css" rel="stylesheet"><link type="text/css" href="./Fragments _ Android Developers_files/default(1).css" rel="stylesheet"><script type="text/javascript" src="./Fragments _ Android Developers_files/default+en.I.js.download"></script><style type="text/css">
.gsc-control-cse {
font-family: Arial, sans-serif;
border-color: #ECEFF1;
background-color: #ECEFF1;
}
.gsc-control-cse .gsc-table-result {
font-family: Arial, sans-serif;
}
input.gsc-input, .gsc-input-box, .gsc-input-box-hover, .gsc-input-box-focus {
border-color: #D9D9D9;
}
input.gsc-search-button, input.gsc-search-button:hover, input.gsc-search-button:focus {
border-color: #2F5BB7;
background-color: #357AE8;
background-image: none;
filter: none;
}
.gsc-tabHeader.gsc-tabhInactive {
border-color: #CCCCCC;
background-color: #FFFFFF;
}
.gsc-tabHeader.gsc-tabhActive {
border-color: #CCCCCC;
border-bottom-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-tabsArea {
border-color: #CCCCCC;
}
.gsc-webResult.gsc-result,
.gsc-results .gsc-imageResult {
border-color: #ECEFF1;
background-color: #ECEFF1;
}
.gsc-webResult.gsc-result:hover,
.gsc-imageResult:hover {
border-color: #ECEFF1;
background-color: #ECEFF1;
}
.gs-webResult.gs-result a.gs-title:link,
.gs-webResult.gs-result a.gs-title:link b,
.gs-imageResult a.gs-title:link,
.gs-imageResult a.gs-title:link b {
color: #039BE5;
}
.gs-webResult.gs-result a.gs-title:visited,
.gs-webResult.gs-result a.gs-title:visited b,
.gs-imageResult a.gs-title:visited,
.gs-imageResult a.gs-title:visited b {
color: #039BE5;
}
.gs-webResult.gs-result a.gs-title:hover,
.gs-webResult.gs-result a.gs-title:hover b,
.gs-imageResult a.gs-title:hover,
.gs-imageResult a.gs-title:hover b {
color: #039BE5;
}
.gs-webResult.gs-result a.gs-title:active,
.gs-webResult.gs-result a.gs-title:active b,
.gs-imageResult a.gs-title:active,
.gs-imageResult a.gs-title:active b {
color: #039BE5;
}
.gsc-cursor-page {
color: #039BE5;
}
a.gsc-trailing-more-results:link {
color: #039BE5;
}
.gs-webResult .gs-snippet,
.gs-imageResult .gs-snippet,
.gs-fileFormatType {
color: #333333;
}
.gs-webResult div.gs-visibleUrl,
.gs-imageResult div.gs-visibleUrl {
color: #333333;
}
.gs-webResult div.gs-visibleUrl-short {
color: #333333;
}
.gs-webResult div.gs-visibleUrl-short {
display: none;
}
.gs-webResult div.gs-visibleUrl-long {
display: block;
}
.gs-promotion div.gs-visibleUrl-short {
display: none;
}
.gs-promotion div.gs-visibleUrl-long {
display: block;
}
.gsc-cursor-box {
border-color: #ECEFF1;
}
.gsc-results .gsc-cursor-box .gsc-cursor-page {
border-color: #CCCCCC;
background-color: #ECEFF1;
color: #039BE5;
}
.gsc-results .gsc-cursor-box .gsc-cursor-current-page {
border-color: #CCCCCC;
background-color: #FFFFFF;
color: #039BE5;
}
.gsc-webResult.gsc-result.gsc-promotion {
border-color: #F6F6F6;
background-color: #F6F6F6;
}
.gsc-completion-title {
color: #039BE5;
}
.gsc-completion-snippet {
color: #333333;
}
.gs-promotion a.gs-title:link,
.gs-promotion a.gs-title:link *,
.gs-promotion .gs-snippet a:link {
color: #1155CC;
}
.gs-promotion a.gs-title:visited,
.gs-promotion a.gs-title:visited *,
.gs-promotion .gs-snippet a:visited {
color: #1155CC;
}
.gs-promotion a.gs-title:hover,
.gs-promotion a.gs-title:hover *,
.gs-promotion .gs-snippet a:hover {
color: #1155CC;
}
.gs-promotion a.gs-title:active,
.gs-promotion a.gs-title:active *,
.gs-promotion .gs-snippet a:active {
color: #1155CC;
}
.gs-promotion .gs-snippet,
.gs-promotion .gs-title .gs-promotion-title-right,
.gs-promotion .gs-title .gs-promotion-title-right * {
color: #666666;
}
.gs-promotion .gs-visibleUrl,
.gs-promotion .gs-visibleUrl-short {
color: #039BE5;
}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gsq_a{padding:0}.gscsep_a{display:none}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 9px}.gsib_a{padding-right:8px;padding-left:8px}.gsst_a{padding-top:5.5px}.gssb_e{border:0}.gssb_l{margin:5px 0}input.gsc-input::-webkit-input-placeholder{font-size:14px}input.gsc-input:-moz-placeholder{font-size:14px}input.gsc-input::-moz-placeholder{font-size:14px}input.gsc-input:-ms-input-placeholder{font-size:14px}input.gsc-input:focus::-webkit-input-placeholder{color:transparent}input.gsc-input:focus:-moz-placeholder{color:transparent}input.gsc-input:focus::-moz-placeholder{color:transparent}input.gsc-input:focus:-ms-input-placeholder{color:transparent}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head>

<body class="gc-documentation                                         develop               guide                           dac-nav-open">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "EG", "language": {"requested": "en", "served": "en"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="https://developer.android.com/guide/components/fragments.html#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        
        <a class="dac-nav-toggle" data-dac-toggle-nav="" href="https://developer.android.com/guide/components/fragments.html" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html">
          <img class="dac-header-logo-image" src="./Fragments _ Android Developers_files/android_logo.png" srcset="https://developer.android.com/static/images/android_logo_2x.png 2x" width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html" zh-tw-lang="設計" zh-cn-lang="设计" ru-lang="Проектирование" ko-lang="디자인" ja-lang="設計" es-lang="Diseñar">
              
              Design</a>
          </li>
          <li>
            <a class="dac-header-tab selected" href="https://developer.android.com/develop/index.html" zh-tw-lang="開發" zh-cn-lang="开发" ru-lang="Разработка" ko-lang="개발" ja-lang="開発" es-lang="Desarrollar">
              
              Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html" zh-tw-lang="發佈" zh-cn-lang="分发" ru-lang="Распространение" ko-lang="배포" ja-lang="配布" es-lang="Distribuir">
              
              Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/" data-category="User" data-action="Console" data-label="Clicked">
          
          <img src="./Fragments _ Android Developers_files/developer-console-icon.svg" width="18" height="19" alt="">Play Console</a>
        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Search">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          
          <h2 style="padding-bottom: 0px;">Most visited</h2><hr>
          <div class="resource-flow-layout cols" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"><div class="resource-flow-page"><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/topics/manifest/meta-data-element.html"><div class="card-bg" style="background-image: url(&quot;/static/images/resource-card-default-android.jpg&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">&lt;meta-data&gt;</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">A name-value pair for an item of additional, arbitrary data that can be supplied to the parent component. A component element can contain any number of Bundle object and made available to the component as the metaData field. Ordinary values are specified…</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/components/activities/activity-lifecycle.html"><div class="card-bg" style="background-image: url(&quot;/images/activity_lifecycle.png&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">The Activity Lifecycle</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">An Activity is an application component that provides a screen with which users can interact in order to do something, such as dial the phone, take a photo, send an email, or view a map. Each activity is given a window in which to draw its user interface…</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/components/intents-common.html"><div class="card-bg" style="background-image: url(&quot;/guide/components/images/voice-icon.png&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">Common Intents</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">An intent allows you to start an activity in another app by describing a simple action you'd like to perform (such as "view a map" or "take a picture") in an Intent object. This type of intent is called an implicit intent because…</div></div></div></a></div></div></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          
          <h2 style="padding-bottom: 0px;">Recently visited</h2><hr>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"><div class="resource-flow-page"><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/components/loaders.html"><div class="card-bg" style="background-image: url(&quot;/static/images/resource-card-default-android.jpg&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">Loaders</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Loaders make it easy to asynchronously load data in an activity or fragment. Loaders have these characteristics: There are multiple classes and interfaces that may be involved in using loaders in an application. They are summarized…</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/components/activities/activity-lifecycle.html"><div class="card-bg" style="background-image: url(&quot;/images/activity_lifecycle.png&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">The Activity Lifecycle</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">An Activity is an application component that provides a screen with which users can interact in order to do something, such as dial the phone, take a photo, send an email, or view a map. Each activity is given a window in which to draw its user interface…</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/components/broadcasts.html"><div class="card-bg" style="background-image: url(&quot;/static/images/resource-card-default-android.jpg&quot;);"></div><div class="card-info"><div class="section">api guides</div><div class="title">Broadcasts</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Android apps can send or receive broadcast messages from the Android system and
other Android apps, similar to the publish-subscribe design pattern. These broadcasts are sent when an event of interest occurs.
For example, the Android system sends…</div></div></div></a></div></div></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
          <h2 style="padding-bottom: 0px;">
          
          Results for <span id="search-results-for"></span>
          </h2><hr>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="./Fragments _ Android Developers_files/cse.js.download" async=""></script>
        <div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-en"><div class="gsc-control-wrapper-cse" dir="ltr" style="visibility: hidden;"><form class="gsc-search-box gsc-search-box-tools" accept-charset="utf-8" style="display: none;"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><div class="gsc-input-box" id="gsc-iw-id1"><table cellspacing="0" cellpadding="0" id="gs_id50" class="gstl_50 " style="width: 100%; padding: 0px;"><tbody><tr><td id="gs_tti50" class="gsib_a"><input autocomplete="off" type="text" size="10" class="gsc-input" name="search" title="search" id="gsc-i-id1" x-webkit-speech="" x-webkit-grammar="builtin:search" lang="en" dir="ltr" spellcheck="false" placeholder="Custom Search" style="width: 100%; padding: 0px; border: none; margin: 0px; height: auto; outline: none; background: url(&quot;https://www.google.com/cse/static/images/1x/googlelogo_lightgrey_46x16dp.png&quot;) left center no-repeat rgb(255, 255, 255); text-indent: 48px;"></td><td class="gsib_b"><div class="gsst_b" id="gs_st50" dir="ltr"><a class="gsst_a" href="javascript:void(0)" style="display: none;"><span class="gscb_a" id="gs_cb50">×</span></a></div></td></tr></tbody></table></div><input type="hidden" name="bgresponse" id="bgresponse"></td><td class="gsc-search-button"><input type="image" src="./Fragments _ Android Developers_files/search_box_icon.png" class="gsc-search-button gsc-search-button-v2" title="search"></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="clear results">&nbsp;</div></td></tr></tbody></table><table cellspacing="0" cellpadding="0" class="gsc-branding"><tbody><tr><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">powered by</div></td><td class="gsc-branding-img"><img src="./Fragments _ Android Developers_files/googlelogo_grey_46x15dp.png" class="gsc-branding-img" srcset="https://www.google.com/cse/static/images/2x/googlelogo_grey_46x15dp.png 2x"></td></tr></tbody></table></form><div class="gsc-results-wrapper-nooverlay"><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Custom Search</div><span class="gs-spacer"> </span></div><div class="gsc-tabsAreaInvisible"></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td><td class="gsc-orderby-container"><div class="gsc-orderby-invisible"><div class="gsc-orderby-label gsc-inline-block">Sort by:</div><div class="gsc-option-menu-container gsc-inline-block"><div class="gsc-selected-option-container gsc-inline-block"><div class="gsc-selected-option">Relevance</div><div class="gsc-option-selector"></div></div><div class="gsc-option-menu-invisible"><div class="gsc-option-menu-item gsc-option-menu-item-highlighted"><div class="gsc-option">Relevance</div></div><div class="gsc-option-menu-item"><div class="gsc-option">Date</div></div></div></div></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Web</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-all-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div></div></div></div>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex="0" class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav=""></div>
    <div class="dac-nav-sidebar" data-swap="" data-dynamic="false" data-transition-speed="300" data-dac-nav="">
      <div data-swap-container="">
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-active" tabindex="0" data-swap-button="">
          
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">
          
          API Guides</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/index.html">Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/components/fundamentals.html">App Fundamentals</a></li><li><a href="https://developer.android.com/guide/practices/compatibility.html">Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/permissions/index.html">System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/permissions/requesting.html">Requesting Permissions</a></li><li><a href="https://developer.android.com/guide/topics/permissions/defining.html">Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/platform/index.html">Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/practices/verifying-apps-art.html">Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section expanded"><div class="nav-section-header"><a href="https://developer.android.com/guide/components/index.html">App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul style="display: block;"><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/components/intents-filters.html">Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/components/intents-common.html">Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/components/activities/index.html">Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/components/activities/intro-activities.html">Introduction to Activities</a></li><li><a href="https://developer.android.com/guide/components/activities/activity-lifecycle.html">The Activity Lifecycle</a></li><li><a href="https://developer.android.com/guide/components/activities/state-changes.html">Activity State Changes</a></li><li><a href="https://developer.android.com/guide/components/activities/tasks-and-back-stack.html">Tasks and Back Stack</a></li><li><a href="https://developer.android.com/guide/components/activities/process-lifecycle.html">Processes and Application Lifecycle</a></li><li><a href="https://developer.android.com/guide/components/activities/parcelables-and-bundles.html">Parcelables and Bundles</a></li><li><a href="https://developer.android.com/guide/components/activities/recents.html">Recents Screen</a></li></ul></li><li class="selected"><a href="https://developer.android.com/guide/components/fragments.html">Fragments</a></li><li><a href="https://developer.android.com/guide/components/loaders.html">Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/components/services.html">Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/components/bound-services.html">Bound Services</a></li><li><a href="https://developer.android.com/guide/components/aidl.html">AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/providers/content-providers.html">Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/providers/content-provider-basics.html">Content Provider Basics</a></li><li><a href="https://developer.android.com/guide/topics/providers/content-provider-creating.html">Creating a Content Provider</a></li><li><a href="https://developer.android.com/guide/topics/providers/calendar-provider.html">Calendar Provider</a></li><li><a href="https://developer.android.com/guide/topics/providers/contacts-provider.html">Contacts Provider</a></li><li><a href="https://developer.android.com/guide/topics/providers/document-provider.html">Open files using Storage Access Framework</a></li><li><a href="https://developer.android.com/guide/topics/providers/create-document-provider.html">Create a Custom Document Provider</a></li></ul></li><li><a href="https://developer.android.com/guide/components/broadcasts.html">Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/appwidgets/index.html">App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/appwidgets/host.html">App Widget Host</a></li></ul></li><li><a href="https://developer.android.com/guide/components/processes-and-threads.html">Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/resources/index.html">App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/resources/overview.html">Overview</a></li><li><a href="https://developer.android.com/guide/topics/resources/providing-resources.html">Providing Resources</a></li><li><a href="https://developer.android.com/guide/topics/resources/accessing-resources.html">Accessing Resources</a></li><li><a href="https://developer.android.com/guide/topics/resources/runtime-changes.html">Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/resources/localization.html">Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/resources/pseudolocales.html">Test Your App with Pseudolocales</a></li><li><a href="https://developer.android.com/guide/topics/resources/icu4j-framework.html">ICU4J Android Framework APIs</a></li><li><a href="https://developer.android.com/guide/topics/resources/multilingual-support.html">Language and Locale</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/resources/complex-xml-resources.html">Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/resources/available-resources.html">Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/resources/animation-resource.html">Animation</a></li><li><a href="https://developer.android.com/guide/topics/resources/color-list-resource.html">Color State List</a></li><li><a href="https://developer.android.com/guide/topics/resources/drawable-resource.html">Drawable</a></li><li><a href="https://developer.android.com/guide/topics/resources/layout-resource.html">Layout</a></li><li><a href="https://developer.android.com/guide/topics/resources/menu-resource.html">Menu</a></li><li><a href="https://developer.android.com/guide/topics/resources/string-resource.html">String</a></li><li><a href="https://developer.android.com/guide/topics/resources/style-resource.html">Style</a></li><li><a href="https://developer.android.com/guide/topics/resources/more-resources.html">More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/manifest/manifest-intro.html">App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/manifest/action-element.html">&lt;action&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/application-element.html">&lt;application&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/category-element.html">&lt;category&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/compatible-screens-element.html">&lt;compatible-screens&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/data-element.html">&lt;data&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/path-permission-element.html">&lt;path-permission&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/service-element.html">&lt;service&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/supports-gl-texture-element.html">&lt;supports-gl-texture&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/supports-screens-element.html">&lt;supports-screens&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-feature-element.html">&lt;uses-feature&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-permission-sdk-23-element.html">&lt;uses-permission-sdk-23&gt;</a></li><li><a href="https://developer.android.com/guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/ui/index.html">User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/ui/overview.html">Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/ui/declaring-layout.html">Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/ui/layout/linear.html">Linear Layout</a></li><li><a href="https://developer.android.com/guide/topics/ui/layout/relative.html">Relative Layout</a></li><li><a href="https://developer.android.com/guide/topics/ui/layout/recyclerview.html">Recycler View</a></li><li><a href="https://developer.android.com/guide/topics/ui/layout/listview.html">List View</a></li><li><a href="https://developer.android.com/guide/topics/ui/layout/gridview.html">Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/">Look and Feel</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/ui/look-and-feel/downloadable-fonts.html">Downloadable Fonts</a></li><li><a href="https://developer.android.com/guide/topics/ui/look-and-feel/fonts-in-xml.html">Fonts in XML</a></li><li><a href="https://developer.android.com/guide/topics/ui/look-and-feel/emoji-compat.html">Emoji Compatibility</a></li><li><a href="https://developer.android.com/guide/topics/ui/look-and-feel/autosizing-textview.html">Autosizing TextView</a></li><li><a href="https://developer.android.com/guide/topics/ui/look-and-feel/themes.html">Styles and Themes</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/ui/controls.html">Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/ui/controls/button.html">Buttons</a></li><li><a href="https://developer.android.com/guide/topics/ui/controls/checkbox.html">Checkboxes</a></li><li><a href="https://developer.android.com/guide/topics/ui/controls/radiobutton.html">Radio Buttons</a></li><li><a href="https://developer.android.com/guide/topics/ui/controls/togglebutton.html">Toggle Buttons</a></li><li><a href="https://developer.android.com/guide/topics/ui/controls/spinner.html">Spinners</a></li><li><a href="https://developer.android.com/guide/topics/ui/controls/pickers.html">Pickers</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/ui/ui-events.html">Input Events</a></li><li><a href="https://developer.android.com/guide/topics/ui/menus.html">Menus</a></li><li><a href="https://developer.android.com/guide/topics/ui/settings.html">Settings</a></li><li><a href="https://developer.android.com/guide/topics/ui/dialogs.html">Dialogs</a></li><li><a href="https://developer.android.com/guide/topics/ui/notifiers/notifications.html">Notifications</a></li><li><a href="https://developer.android.com/guide/topics/ui/notifiers/toasts.html">Toasts</a></li><li><a href="https://developer.android.com/guide/topics/ui/tooltips.html">Tooltips</a></li><li><a href="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive.html">Adaptive Icons</a></li><li><a href="https://developer.android.com/guide/topics/ui/shortcuts.html">App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/search/index.html">Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/search/search-dialog.html">Creating a Search Interface</a></li><li><a href="https://developer.android.com/guide/topics/search/adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a></li><li><a href="https://developer.android.com/guide/topics/search/adding-custom-suggestions.html">Adding Custom Suggestions</a></li><li><a href="https://developer.android.com/guide/topics/search/searchable-config.html">Searchable Configuration</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/ui/multi-window.html">Multi-Window Support</a></li><li><a href="https://developer.android.com/guide/topics/ui/picture-in-picture.html">Picture-in-Picture Support</a></li><li><a href="https://developer.android.com/guide/topics/ui/drag-drop.html">Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/ui/accessibility/index.html">Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/ui/accessibility/apps.html">Making Apps More Accessible</a></li><li><a href="https://developer.android.com/guide/topics/ui/accessibility/node-tree-debugging.html">Using Node Tree Debugging</a></li><li><a href="https://developer.android.com/guide/topics/ui/accessibility/services.html">Building Accessibility Services</a></li><li><a href="https://developer.android.com/guide/topics/ui/accessibility/custom-views.html">Building Accessible Custom Views</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/ui/themes.html">Styles and Themes</a></li><li><a href="https://developer.android.com/guide/topics/ui/custom-components.html">Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/graphics/index.html">Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/graphics/overview.html">Overview</a></li><li><a href="https://developer.android.com/guide/topics/graphics/prop-animation.html">Property Animation</a></li><li><a href="https://developer.android.com/guide/topics/graphics/view-animation.html">View Animation</a></li><li><a href="https://developer.android.com/guide/topics/graphics/drawable-animation.html">Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/graphics/2d-graphics.html">Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/graphics/vector-drawable-resources.html">Vector Drawable</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/graphics/physics-based-animation.html">Physics-based Animations</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/graphics/spring-animation.html">Spring Animation</a></li><li><a href="https://developer.android.com/guide/topics/graphics/fling-animation.html">Fling Animation</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/graphics/opengl.html">OpenGL ES</a></li><li><a href="https://developer.android.com/guide/topics/graphics/hardware-accel.html">Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/renderscript/index.html">Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/renderscript/compute.html">RenderScript</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/advanced.html">Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/renderscript/reference/overview.html">Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_value_types.html">Numerical Types</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_object_types.html">Object Types</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_convert.html">Conversion Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_math.html">Mathematical Constants and Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_vector_math.html">Vector Math Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_matrix.html">Matrix Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_quaternion.html">Quaternion Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_atomic.html">Atomic Update Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_time.html">Time Functions and Types</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_allocation_data.html">Allocation Data Access Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_object_info.html">Object Characteristics Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_for_each.html">Kernel Invocation Functions and Types</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_io.html">Input/Output Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_debug.html">Debugging Functions</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/rs_graphics.html">Graphics Functions and Types</a></li><li><a href="https://developer.android.com/guide/topics/renderscript/reference/index.html">Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/media-apps/index.html">Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/media-apps/media-apps-overview.html">Media Apps Overview</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/working-with-a-media-session.html">Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/media-apps/audio-app/building-an-audio-app.html">Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/media-apps/audio-app/building-a-mediabrowserservice.html">Building a Media Browser Service</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/audio-app/building-a-mediabrowser-client.html">Building a Media Browser Client</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/audio-app/mediasession-callbacks.html">Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/media-apps/video-app/building-a-video-app.html">Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/media-apps/video-app/building-a-video-player-activity.html">Building a Video Player Activity</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/video-app/mediasession-callbacks.html">Media Session Callbacks</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/media-apps/mediabuttons.html">Responding to Media Buttons</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/volume-and-earphones.html">Handling Changes in Audio Output</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/audio-focus.html">Managing Audio Focus</a></li><li><a href="https://developer.android.com/guide/topics/media-apps/interacting-with-assistant.html">Interacting with Google Assistant</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/media/index.html">Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/media/media-formats.html">Supported Media Formats</a></li><li><a href="https://developer.android.com/guide/topics/media/mediaplayer.html">MediaPlayer</a></li><li><a href="https://developer.android.com/guide/topics/media/mediarecorder.html">MediaRecorder</a></li><li><a href="https://developer.android.com/guide/topics/media/exoplayer.html">ExoPlayer</a></li><li><a href="https://developer.android.com/guide/topics/media/volumeshaper.html">Controller Amplitude with VolumeShaper</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/media/media-routing.html">Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/media/mediarouter.html">MediaRouter API</a></li><li><a href="https://developer.android.com/guide/topics/media/mediarouteprovider.html">MediaRouteProvider API</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/media/camera.html">Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/sensors/index.html">Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/location/index.html">Location and Maps</a></li><li><a href="https://developer.android.com/guide/topics/location/strategies.html">Location Strategies</a></li><li><a href="https://developer.android.com/guide/topics/sensors/sensors_overview.html">Sensors Overview</a></li><li><a href="https://developer.android.com/guide/topics/sensors/sensors_motion.html">Motion Sensors</a></li><li><a href="https://developer.android.com/guide/topics/sensors/sensors_position.html">Position Sensors</a></li><li><a href="https://developer.android.com/guide/topics/sensors/sensors_environment.html">Environment Sensors</a></li><li><a href="https://developer.android.com/guide/topics/sensors/gnss.html">Raw GNSS Measurements</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/connectivity/index.html">Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/connectivity/bluetooth.html">Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/connectivity/bluetooth-le.html">Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/connectivity/nfc/index.html">NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/connectivity/nfc/nfc.html">NFC Basics</a></li><li><a href="https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc.html">Advanced NFC</a></li><li><a href="https://developer.android.com/guide/topics/connectivity/nfc/hce.html">Host-based Card Emulation</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/connectivity/telecom/index.html">Telecom</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/connectivity/telecom/selfManaged.html">Self-Managed ConnectionServices</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/connectivity/wifip2p.html">Wi-Fi P2P</a></li><li><a href="https://developer.android.com/guide/topics/connectivity/wifi-aware.html">Wi-Fi Aware</a></li><li><a href="https://developer.android.com/guide/topics/connectivity/companion-device-pairing.html">Companion Device Pairing</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/connectivity/usb/index.html">USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/connectivity/usb/accessory.html">Accessory</a></li><li><a href="https://developer.android.com/guide/topics/connectivity/usb/host.html">Host</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/connectivity/sip.html">SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/text/index.html">Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/text/autofill.html">Autofill Framework</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/text/testautofill.html">Test your app with autofill</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/text/copy-paste.html">Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/text/creating-input-method.html">Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/text/image-keyboard.html">Image Keyboard</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/text/spell-checker-framework.html">Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/data/index.html">Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/data/data-storage.html">Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/data/backup.html">Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/data/account-transfer.html">Account Transfer API</a></li><li><a href="https://developer.android.com/guide/topics/data/autobackup.html">Auto Backup</a></li><li><a href="https://developer.android.com/guide/topics/data/keyvaluebackup.html">Key/Value Backup</a></li><li><a href="https://developer.android.com/guide/topics/data/testingbackup.html">Testing Backup and Restore</a></li></ul></li><li><a href="https://developer.android.com/guide/topics/data/install-location.html">App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/topics/admin/index.html">Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/topics/admin/device-admin.html">Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/webapps/index.html">Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/webapps/targeting.html">Supporting Different Screens in Web Apps</a></li><li><a href="https://developer.android.com/guide/webapps/webview.html">Building Web Apps in WebView</a></li><li><a href="https://developer.android.com/guide/webapps/managing-webview.html">Managing WebViews</a></li><li><a href="https://developer.android.com/guide/webapps/migrating.html">Migrating to WebView in Android 4.4</a></li><li><a href="https://developer.android.com/guide/webapps/debugging.html">Debugging Web Apps</a></li><li><a href="https://developer.android.com/guide/webapps/best-practices.html">Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/practices/index.html" de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/guide/practices/screens_support.html">Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/guide/practices/screens-distribution.html">Distributing to Specific Screens</a></li><li><a href="https://developer.android.com/guide/practices/screen-compat-mode.html">Screen Compatibility Mode</a></li></ul></li><li><a href="https://developer.android.com/guide/practices/app-design/seamlessness.html">Designing for Seamlessness</a></li><li><a href="https://developer.android.com/guide/practices/tablets-and-handsets.html">Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left" tabindex="0">
  <li class="dac-nav-item home">
    
    <a class="dac-nav-link" href="https://developer.android.com/index.html">Home</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex="0"></i>
    <ul class="dac-nav-secondary about" style="display: none;">
      <li class="dac-nav-item versions">
        
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/o/index.html">Android</a>
      </li>
      <li class="dac-nav-item wear">
        
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html">TV</a>
      </li>
      <li class="dac-nav-item auto">
        
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html">Auto</a>
      </li>
      
      <li class="dac-nav-item chrome-os">
        
        <a class="dac-nav-link" href="https://developer.android.com/chrome-os/index.html">Chrome OS</a>
      </li>
      
      <li class="dac-nav-item things">
        
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html" zh-tw-lang="設計" zh-cn-lang="设计" ru-lang="Проектирование" ko-lang="디자인" ja-lang="設計" es-lang="Diseñar">
      
      Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link has-subnav" href="https://developer.android.com/develop/index.html" zh-tw-lang="開發" zh-cn-lang="开发" ru-lang="Разработка" ko-lang="개발" ja-lang="開発" es-lang="Desarrollar">
      
      Develop</a>
    <i class="dac-sprite dac-nav-sub-slider dac-expand-less-black" tabindex="0"></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html" zh-tw-lang="訓練課程" zh-cn-lang="培训" ru-lang="Курсы" ko-lang="교육" ja-lang="トレーニング" es-lang="Capacitación">
            
            Training</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link selected" href="https://developer.android.com/guide/index.html" zh-tw-lang="API 指南" zh-cn-lang="API 指南" ru-lang="Руководства по API" ko-lang="API 가이드" ja-lang="API ガイド" es-lang="Guías de la API">
          
          API Guides</a><span class="dac-nav-link-forward" tabindex="0"><i class="dac-sprite dac-nav-forward"></i></span>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html" zh-tw-lang="參考資源" zh-cn-lang="参考" ru-lang="Справочник" ko-lang="참조문서" ja-lang="リファレンス" es-lang="Referencia">
          
          Reference</a>
      </li>
      <li class="dac-nav-item samples">
        
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html">Samples</a>
      </li>
      <li class="dac-nav-item libraries">
        
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html">Libraries</a></li>
      <li class="dac-nav-item studio">
        
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html">Android Studio</a></li>
      <li class="dac-nav-item ndk">
        
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html">Android NDK</a></li>
      <li class="dac-nav-item google">
        
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html" zh-tw-lang="發佈" zh-cn-lang="分发" ru-lang="Распространение" ko-lang="배포" ja-lang="配布" de-lang="Vertrieb" es-lang="Distribuir" es-419-lang="Distribuye" fr-lang="Distribuer" id-lang="Distribusikan" pt-br-lang="Distribuição" th-lang="จัดจำหน่าย" tr-lang="Dağıtma" vi-lang="Phân phối">
      
      Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex="0"></i>
    <ul class="dac-nav-secondary distribute" style="display: none;">
      <li class="dac-nav-item google-play">
        
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html">Play Console</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html" es-419-lang="Recomendaciones" fr-lang="Bonnes pratiques" id-lang="Praktik terbaik" ja-lang="おすすめの方法" ko-lang="권장사항" pt-br-lang="Práticas recomendadas" ru-lang="Рекомендации" th-lang="จัดจำหน่าย" tr-lang="En iyi uygulamalar" vi-lang="Các phương pháp hay nhất" zh-cn-lang="最佳做法" zh-tw-lang="最佳做法">
          
          Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html" de-lang="Marketing-Tools" es-419-lang="Herramientas de marketing" fr-lang="Outils marketing" id-lang="Fitur pemasaran" ja-lang="マーケティング ツール" ko-lang="마케팅 도구" pt-br-lang="Ferramentas de marketing" ru-lang="Маркетинговые инструменты" th-lang="เครื่องมือการตลาด" tr-lang="Pazarlama araçları" vi-lang="Công cụ tiếp thị" zh-cn-lang="营销工具" zh-tw-lang="行銷工具">
          
          Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs dac-has-content"><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/develop/index.html">
      
      Develop</a></li><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/guide/index.html">
          
          API Guides</a></li><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/guide/components/index.html">App Components</a></li></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Fragments</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">
  <h2>In this document</h2>
  <ol>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Design">Design Philosophy</a></li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Creating">Creating a Fragment</a>
      <ol>
        <li><a href="https://developer.android.com/guide/components/fragments.html#UI">Adding a user interface</a></li>
        <li><a href="https://developer.android.com/guide/components/fragments.html#Adding">Adding a fragment to an activity</a></li>
      </ol>
    </li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Managing">Managing Fragments</a></li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Transactions">Performing Fragment Transactions</a></li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#CommunicatingWithActivity">Communicating with the Activity</a>
      <ol>
        <li><a href="https://developer.android.com/guide/components/fragments.html#EventCallbacks">Creating event callbacks to the activity</a></li>
        <li><a href="https://developer.android.com/guide/components/fragments.html#ActionBar">Adding items to the App Bar</a></li>
      </ol>
    </li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Lifecycle">Handling the Fragment Lifecycle</a>
      <ol>
        <li><a href="https://developer.android.com/guide/components/fragments.html#CoordinatingWithActivity">Coordinating with the activity lifecycle</a></li>
      </ol>
    </li>
    <li><a href="https://developer.android.com/guide/components/fragments.html#Example">Example</a></li>
  </ol>

  <h2>Key classes</h2>
  <ol>
    <li><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code></li>
  </ol>

  <h2>See also</h2>
  <ol>
    <li><a href="https://developer.android.com/training/basics/fragments/index.html">Building a Dynamic UI with Fragments</a></li>
    <li><a href="https://developer.android.com/topic/libraries/architecture/lifecycle.html">Handling Lifecycles
    with Lifecycle-Aware Components</a></li>
    <li><a href="https://developer.android.com/topic/libraries/architecture/guide.html">Guide to App Architecture</a></li>
    <li><a href="https://developer.android.com/guide/practices/tablets-and-handsets.html">Supporting Tablets
    and Handsets</a></li>
  </ol>
</div>
</div>

<p>A <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> represents a behavior or a portion of user interface in an
<code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html">Activity</a></code>. You can combine multiple fragments in a single activity to build a
multi-pane UI and reuse a fragment in multiple activities. You can think of a fragment as a
modular section of an activity, which has its own lifecycle, receives its own input events, and
which you can add or remove while the activity is running (sort of like a "sub activity" that
you can reuse in different activities).</p>

<p>A fragment must always be embedded in an activity and the fragment's lifecycle is directly
affected by the host activity's lifecycle. For example, when the activity is paused, so are all
fragments in it, and when the activity is destroyed, so are all fragments. However, while an
activity is running (it is in the <em>resumed</em> <a href="https://developer.android.com/guide/components/activities.html#Lifecycle">lifecycle state</a>), you can
manipulate each fragment independently, such as add or remove them. When you perform such a
fragment transaction, you can also add it to a back stack that's managed by the
activity—each back stack entry in the activity is a record of the fragment transaction that
occurred. The back stack allows the user to reverse a fragment transaction (navigate backwards),
by pressing the <em>Back</em> button.</p>

<p>When you add a fragment as a part of your activity layout, it lives in a <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> inside the activity's view hierarchy and the fragment defines its own view
layout.
You can insert a fragment into your activity layout by declaring the fragment in the activity's
layout file, as a <code>&lt;fragment&gt;</code> element, or from your application code by adding it to an
existing <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code>. However, a fragment is not required to be a part of the
activity layout; you may also use a fragment without its own UI as an invisible worker for the
activity.</p>

<p>This document describes how to build your application to use fragments, including
how fragments can maintain their state when added to the activity's back stack, share
events with the activity and other fragments in the activity, contribute to the activity's action
bar, and more.</p>

<p>
For information about handling lifecycles, including guidance about
best practices, see <a href="https://developer.android.com/topic/libraries/architecture/lifecycle.html">
Handling Lifecycles with Lifecycle-Aware Components</a>. For broader guidance
about app architecture, see
<a href="https://developer.android.com/topic/libraries/architecture/guide.html">Guide to App
Architecture</a>.

</p>


<h2 id="Design" style="padding-bottom: 0px;">Design Philosophy</h2><hr>

<p>Android introduced fragments in Android 3.0 (API level 11), primarily to support more
dynamic and flexible UI designs on large screens, such as tablets. Because a
tablet's screen is much larger than that of a handset, there's more room to combine and
interchange UI components. Fragments allow such designs without the need for you to manage complex
changes to the view hierarchy. By dividing the layout of an activity into fragments, you become able
to modify the activity's appearance at runtime and preserve those changes in a back stack
that's managed by the activity. They are now widely available through the
<a href="https://developer.android.com/topic/libraries/support-library/packages.html#v4-fragment">fragment support library</a>.</p>

<p>For example, a news application can use one fragment to show a list of articles on the
left and another fragment to display an article on the right—both fragments appear in one
activity, side by side, and each fragment has its own set of lifecycle callback methods and handle
their own user input events. Thus, instead of using one activity to select an article and another
activity to read the article, the user can select an article and read it all within the same
activity, as illustrated in the tablet layout in figure 1.</p>

<p>You should design each fragment as a modular and reusable activity component. That is, because
each fragment defines its own layout and its own behavior with its own lifecycle callbacks, you can
include one fragment in multiple activities, so you should design for reuse and avoid directly
manipulating one fragment from another fragment. This is especially important because a modular
fragment allows you to change your fragment combinations for different screen sizes. When designing
your application to support both tablets and handsets, you can reuse your fragments in different
layout configurations to optimize the user experience based on the available screen space. For
example, on a handset, it might be necessary to separate fragments to provide a single-pane UI when
more than one cannot fit within the same activity.</p>

<img src="./Fragments _ Android Developers_files/fragments.png" alt="">
<p class="img-caption"><strong>Figure 1.</strong> An example of how two UI modules defined by
fragments can be combined into one activity for a tablet design, but separated for a
handset design.</p>

<p>For example—to continue with the news application example—the application can embed
two fragments in <em>Activity A</em>, when running on a tablet-sized device. However, on a
handset-sized screen, there's not enough room for both fragments, so <em>Activity A</em> includes
only the fragment for the list of articles, and when the user selects an article, it starts
<em>Activity B</em>, which includes the second fragment to read the article. Thus, the application
supports both tablets and handsets by reusing fragments in different combinations, as illustrated in
figure 1.</p>

<p>For more information about designing your application with different fragment combinations for
different screen configurations, see the guide to <a href="https://developer.android.com/guide/practices/tablets-and-handsets.html">Supporting Tablets and Handsets</a>.</p>



<h2 id="Creating" style="padding-bottom: 0px;">Creating a Fragment</h2><hr>

<div class="figure" style="width:327px">
<img src="./Fragments _ Android Developers_files/fragment_lifecycle.png" alt="">
<p class="img-caption"><strong>Figure 2.</strong> The lifecycle of a fragment (while its
activity is running).</p>
</div>

<p>To create a fragment, you must create a subclass of <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> (or an existing
subclass of it). The <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> class has code that looks a lot like
an <code><a href="https://developer.android.com/reference/android/app/Activity.html">Activity</a></code>. It contains callback methods similar to an activity, such
as <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onStart()">onStart()</a></code>,
<code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onPause()">onPause()</a></code>, and <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onStop()">onStop()</a></code>. In
fact, if you're converting an existing Android application to use fragments, you might simply move
code from your activity's callback methods into the respective callback methods of your
fragment.</p>

<p>Usually, you should implement at least the following lifecycle methods:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreate(android.os.Bundle)">onCreate()</a></code></dt>
  <dd>The system calls this when creating the fragment. Within your implementation, you should
initialize essential components of the fragment that you want to retain when the fragment is
paused or stopped, then resumed.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
  <dd>The system calls this when it's time for the fragment to draw its user interface for the
first time. To draw a UI for your fragment, you must return a <code><a href="https://developer.android.com/reference/android/view/View.html">View</a></code> from this
method that is the root of your fragment's layout. You can return null if the fragment does not
provide a UI.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onPause()">onPause()</a></code></dt>
  <dd>The system calls this method as the first indication that the user is leaving the
fragment (though it does not always mean the fragment is being destroyed). This is usually where you
should commit any changes that should be persisted beyond the current user session (because
the user might not come back).</dd>
</dl>

<p>Most applications should implement at least these three methods for every fragment, but there are
several other callback methods you should also use to handle various stages of the
fragment lifecycle. All the lifecycle callback methods are discussed in more detail in the section
about <a href="https://developer.android.com/guide/components/fragments.html#Lifecycle">Handling the Fragment Lifecycle</a>.</p>


<p>There are also a few subclasses that you might want to extend, instead of the base <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> class:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/DialogFragment.html">DialogFragment</a></code></dt>
  <dd>Displays a floating dialog. Using this class to create a dialog is a good alternative to using
the dialog helper methods in the <code><a href="https://developer.android.com/reference/android/app/Activity.html">Activity</a></code> class, because you can
incorporate a fragment dialog into the back stack of fragments managed by the activity,
allowing the user to return to a dismissed fragment.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/ListFragment.html">ListFragment</a></code></dt>
  <dd>Displays a list of items that are managed by an adapter (such as a <code><a href="https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html">SimpleCursorAdapter</a></code>), similar to <code><a href="https://developer.android.com/reference/android/app/ListActivity.html">ListActivity</a></code>. It provides
several methods for managing a list view, such as the <code><a href="https://developer.android.com/reference/android/app/ListFragment.html#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> callback to
handle click events.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/support/v7/preference/PreferenceFragmentCompat.html">PreferenceFragmentCompat</a></code></dt>
  <dd>Displays a hierarchy of <code><a href="https://developer.android.com/reference/android/support/v7/preference/Preference.html">Preference</a></code> objects as a list, similar to
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html">PreferenceActivity</a></code>. This is useful when creating a "settings"
activity for your application.</dd>
</dl>


<h3 id="UI">Adding a user interface</h3>

<p>A fragment is usually used as part of an activity's user interface and contributes its own
layout to the activity.</p>

<p>To provide a layout for a fragment, you must implement the <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> callback method, which the Android system calls
when it's time for the fragment to draw its layout. Your implementation of this method must return a
<code><a href="https://developer.android.com/reference/android/view/View.html">View</a></code> that is the root of your fragment's layout.</p>

<p class="note"><strong>Note:</strong> If your fragment is a subclass of <code><a href="https://developer.android.com/reference/android/support/v4/app/ListFragment.html">ListFragment</a></code>, the default implementation returns a <code><a href="https://developer.android.com/reference/android/widget/ListView.html">ListView</a></code> from
<code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, so you don't need to implement it.</p>

<p>To return a layout from <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, you can inflate it from a <a href="https://developer.android.com/guide/topics/resources/layout-resource.html">layout resource</a> defined in XML. To
help you do so, <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> provides a
<code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html">LayoutInflater</a></code> object.</p>

<p>For example, here's a subclass of <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> that loads a layout from the
<code>example_fragment.xml</code> file:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ExampleFragment</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Fragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">View</span><span class="pln"> onCreateView</span><span class="pun">(</span><span class="typ">LayoutInflater</span><span class="pln"> inflater</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ViewGroup</span><span class="pln"> container</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Inflate the layout for this fragment</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> inflater</span><span class="pun">.</span><span class="pln">inflate</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">layout</span><span class="pun">.</span><span class="pln">example_fragment</span><span class="pun">,</span><span class="pln"> container</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>

<div class="sidebox-wrapper">
<div class="sidebox">
  <h3>Creating a layout</h3>
  <p>In the sample above, <code>R.layout.example_fragment</code> is a reference to a layout resource
named <code>example_fragment.xml</code> saved in the application resources. For information about how to
create a layout in XML, see the <a href="https://developer.android.com/guide/topics/ui/index.html">User Interface</a>
documentation.</p>
</div>
</div>

<p>The <code>container</code> parameter passed to <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> is the parent <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> (from the activity's layout) in which
your fragment layout
will be inserted. The <code>savedInstanceState</code> parameter is a <code><a href="https://developer.android.com/reference/android/os/Bundle.html">Bundle</a></code> that
provides data about the previous instance of the fragment, if the fragment is being resumed
(restoring state is discussed more in the section about <a href="https://developer.android.com/guide/components/fragments.html#Lifecycle">Handling the
Fragment Lifecycle</a>).</p>

<p>The <code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html#inflate(int, android.view.ViewGroup, boolean)">inflate()</a></code> method takes
three arguments:</p>
<ul>
  <li>The resource ID of the layout you want to inflate.</li>
  <li>The <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> to be the parent of the inflated layout. Passing the <code>container</code> is important in order for the system to apply layout parameters to the root view of the
inflated layout, specified by the parent view in which it's going.</li>
  <li>A boolean indicating whether the inflated layout should be attached to the <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> (the second parameter) during inflation. (In this case, this
is false because the system is already inserting the inflated layout into the <code>container</code>—passing true would create a redundant view group in the final layout.)</li>
</ul>

<p>Now you've seen how to create a fragment that provides a layout. Next, you need to add
the fragment to your activity.</p>



<h3 id="Adding">Adding a fragment to an activity</h3>

<p>Usually, a fragment contributes a portion of UI to the host activity, which is embedded as a part
of the activity's overall view hierarchy. There are two ways you can add a fragment to the activity
layout:</p>

<ul>
  <li><b>Declare the fragment inside the activity's layout file.</b>
<p>In this case, you can
specify layout properties for the fragment as if it were a view. For example, here's the layout
file for an activity with two fragments:</p>
<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"utf-8"</span><span class="pun">?&gt;</span><span class="pln"><br></span><span class="tag">&lt;LinearLayout</span><span class="pln"> </span><span class="atn">xmlns:android</span><span class="pun">=</span><span class="atv">"http://schemas.android.com/apk/res/android"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:orientation</span><span class="pun">=</span><span class="atv">"horizontal"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;fragment</span><span class="pln"> </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"com.example.news.ArticleListFragment"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:id</span><span class="pun">=</span><span class="atv">"@+id/list"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_weight</span><span class="pun">=</span><span class="atv">"1"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"0dp"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;fragment</span><span class="pln"> </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"com.example.news.ArticleReaderFragment"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:id</span><span class="pun">=</span><span class="atv">"@+id/viewer"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_weight</span><span class="pun">=</span><span class="atv">"2"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"0dp"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;/LinearLayout&gt;</span></pre>
  <p>The <code>android:name</code> attribute in the <code>&lt;fragment&gt;</code> specifies the <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> class to instantiate in the layout.</p>

<p>When the system creates this activity layout, it instantiates each fragment specified in the
layout and calls the <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> method for each one,
to retrieve each fragment's layout. The system inserts the <code><a href="https://developer.android.com/reference/android/view/View.html">View</a></code> returned by the
fragment directly in place of the <code>&lt;fragment&gt;</code> element.</p>

<div class="note">
  <p><strong>Note:</strong> Each fragment requires a unique identifier that
the system can use to restore the fragment if the activity is restarted (and which you can use to
capture the fragment to perform transactions, such as remove it). There are two ways to provide an
ID for a fragment:</p>
  <ul>
    <li>Supply the <code>android:id</code> attribute with a unique ID.</li>
    <li>Supply the <code>android:tag</code> attribute with a unique string.</li>
  </ul>
</div>
  </li>

  <li><b>Or, programmatically add the fragment to an existing <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code>.</b>
<p>At any time while your activity is running, you can add fragments to your activity layout. You
simply need to specify a <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> in which to place the fragment.</p>
  <p>To make fragment transactions in your activity (such as add, remove, or replace a
fragment), you must use APIs from <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code>. You can get an instance
of <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code> from your <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html">FragmentActivity</a></code> like this:</p>

<pre class="prettyprint"><span class="typ">FragmentManager</span><span class="pln"> fragmentManager </span><span class="pun">=</span><span class="pln"> </span><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html#getSupportFragmentManager()"><span class="pln">getSupportFragmentManager</span><span class="pun">()</span></a></code><span class="pun">;</span><span class="pln"><br></span><span class="typ">FragmentTransaction</span><span class="pln"> fragmentTransaction </span><span class="pun">=</span><span class="pln"> fragmentManager</span><span class="pun">.</span><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#beginTransaction()"><span class="pln">beginTransaction</span><span class="pun">()</span></a></code><span class="pun">;</span></pre>

<p>You can then add a fragment using the <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#add(int, android.support.v4.app.Fragment)">add()</a></code> method, specifying the fragment to add and
the view in which to insert it. For example:</p>

<pre class="prettyprint"><span class="typ">ExampleFragment</span><span class="pln"> fragment </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ExampleFragment</span><span class="pun">();</span><span class="pln"><br>fragmentTransaction</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">fragment_container</span><span class="pun">,</span><span class="pln"> fragment</span><span class="pun">);</span><span class="pln"><br>fragmentTransaction</span><span class="pun">.</span><span class="pln">commit</span><span class="pun">();</span></pre>

  <p>The first argument passed to <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#add(int, android.support.v4.app.Fragment)">add()</a></code>
is the <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html">ViewGroup</a></code> in which the fragment should be placed, specified by
resource ID, and the second parameter is the fragment to add.</p>
  <p>Once you've made your changes with
<code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code>, you must
call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code> for the changes to take effect.</p>
  </li>
</ul>


<h4 id="AddingWithoutUI">Adding a fragment without a UI</h4>

<p>The examples above show how to add a fragment to your activity in order to provide a UI. However,
you can also use a fragment to provide a background behavior for the activity without presenting
additional UI.</p>

<p>To add a fragment without a UI, add the fragment from the activity using <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#add(android.support.v4.app.Fragment, java.lang.String)">add(Fragment, String)</a></code> (supplying a unique string "tag" for the
fragment, rather than a view ID). This adds the fragment, but, because it's not associated with a
view in the activity layout, it does not receive a call to <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>. So you don't need to implement that method.</p>

<p>Supplying a string tag for the fragment isn't strictly for non-UI fragments—you can also
supply string tags to fragments that do have a UI—but if the fragment does not have a
UI, then the string tag is the only way to identify it. If you want to get the fragment from the
activity later, you need to use <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>.</p>

<p>For an example activity that uses a fragment as a background worker, without a UI, see the <code>FragmentRetainInstance.java</code> sample, which is included in the SDK samples (available through the
Android SDK Manager) and located on your system as
<code>&lt;sdk_root&gt;/APIDemos/app/src/main/java/com/example/android/apis/app/FragmentRetainInstance.java</code>.</p>



<h2 id="Managing" style="padding-bottom: 0px;">Managing Fragments</h2><hr>

<p>To manage the fragments in your activity, you need to use <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code>. To
get it, call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html#getSupportFragmentManager()">getSupportFragmentManager()</a></code> from your activity.</p>

<p>Some things that you can do with <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code> include:</p>

<ul>
  <li>Get fragments that exist in the activity, with <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#findFragmentById(int)">findFragmentById()</a></code> (for fragments that provide a UI in
the activity layout) or <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code> (for fragments that do or don't provide a UI).</li>
  <li>Pop fragments off the back stack, with <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#popBackStack()">popBackStack()</a></code> (simulating a <em>Back</em> command by the user).</li>
  <li>Register a listener for changes to the back stack, with <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#addOnBackStackChangedListener(android.support.v4.app.FragmentManager.OnBackStackChangedListener)">addOnBackStackChangedListener()</a></code>.</li>
</ul>

<p>For more information about these methods and others, refer to the <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code> class documentation.</p>

<p>As demonstrated in the previous section, you can also use <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code>
to open a <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code>, which allows you to perform transactions, such as
add and remove fragments.</p>


<h2 id="Transactions" style="padding-bottom: 0px;">Performing Fragment Transactions</h2><hr>

<p>A great feature about using fragments in your activity is the ability to add, remove, replace,
and perform other actions with them, in response to user interaction. Each set of changes that you
commit to the activity is called a transaction and you can perform one using APIs in <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code>. You can also save each transaction to a back stack managed by the
activity, allowing the user to navigate backward through the fragment changes (similar to navigating
backward through activities).</p>

<p>You can acquire an instance of <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code> from the <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code> like this:</p>

<pre class="prettyprint"><span class="typ">FragmentManager</span><span class="pln"> fragmentManager </span><span class="pun">=</span><span class="pln"> </span><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html#getSupportFragmentManager()"><span class="pln">getSupportFragmentManager</span><span class="pun">()</span></a></code><span class="pun">;</span><span class="pln"><br></span><span class="typ">FragmentTransaction</span><span class="pln"> fragmentTransaction </span><span class="pun">=</span><span class="pln"> fragmentManager</span><span class="pun">.</span><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#beginTransaction()"><span class="pln">beginTransaction</span><span class="pun">()</span></a></code><span class="pun">;</span></pre>

<p>Each transaction is a set of changes that you want to perform at the same time. You can set
up all the changes you want to perform for a given transaction using methods such as <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#add(android.support.v4.app.Fragment, java.lang.String)">add()</a></code>, <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#remove(android.support.v4.app.Fragment)">remove()</a></code>,
and <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#replace(int, android.support.v4.app.Fragment)">replace()</a></code>. Then, to apply the transaction
to the activity, you must call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code>.</p>


<p>Before you call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code>, however, you might want to call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code>, in order to add the transaction
to a back stack of fragment transactions. This back stack is managed by the activity and allows
the user to return to the previous fragment state, by pressing the <em>Back</em> button.</p>

<p>For example, here's how you can replace one fragment with another, and preserve the previous
state in the back stack:</p>

<pre class="prettyprint"><span class="com">// Create new fragment and transaction</span><span class="pln"><br></span><span class="typ">Fragment</span><span class="pln"> newFragment </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ExampleFragment</span><span class="pun">();</span><span class="pln"><br></span><span class="typ">FragmentTransaction</span><span class="pln"> transaction </span><span class="pun">=</span><span class="pln"> getSupportFragmentManager</span><span class="pun">().</span><span class="pln">beginTransaction</span><span class="pun">();</span><span class="pln"><br><br></span><span class="com">// Replace whatever is in the fragment_container view with this fragment,</span><span class="pln"><br></span><span class="com">// and add the transaction to the back stack</span><span class="pln"><br>transaction</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">fragment_container</span><span class="pun">,</span><span class="pln"> newFragment</span><span class="pun">);</span><span class="pln"><br>transaction</span><span class="pun">.</span><span class="pln">addToBackStack</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br></span><span class="com">// Commit the transaction</span><span class="pln"><br>transaction</span><span class="pun">.</span><span class="pln">commit</span><span class="pun">();</span></pre>

<p>In this example, <code>newFragment</code> replaces whatever fragment (if any) is currently in the
layout container identified by the <code>R.id.fragment_container</code> ID. By calling <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code>, the replace transaction is
saved to the back stack so the user can reverse the transaction and bring back the
previous fragment by pressing the <em>Back</em> button.</p>

<p><code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html">FragmentActivity</a></code> will automatically retrieve fragments from the back stack via
 <code><a href="https://developer.android.com/reference/android/app/Activity.html#onBackPressed()">onBackPressed()</a></code>.</p>

<p>If you add multiple changes to the transaction (such as another <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#add(android.support.v4.app.Fragment, java.lang.String)">add()</a></code> or <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#remove(android.support.v4.app.Fragment)">remove()</a></code>) and call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code>, then all changes applied
before you call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code> are added to the
back stack as a single transaction and the <em>Back</em> button will reverse them all together.</p>

<p>The order in which you add changes to a <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html">FragmentTransaction</a></code> doesn't matter,
except:</p>
<ul>
  <li>You must call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code> last</li>
  <li>If you're adding multiple fragments to the same container, then the order in which
you add them determines the order they appear in the view hierarchy</li>
</ul>

<p>If you do not call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code> when you perform a transaction that removes a fragment, then that fragment is
destroyed when the transaction is committed and the user cannot navigate back to it. Whereas, if you
do call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code> when
removing a fragment, then the fragment is <em>stopped</em> and will be resumed if the user navigates
back.</p>

<p class="note"><strong>Tip:</strong> For each fragment transaction, you can apply a transition
animation, by calling <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#setTransition(int)">setTransition()</a></code> before
you commit.</p>

<p>Calling <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code> does not perform the transaction
immediately. Rather, it schedules it to run on the activity's UI thread (the "main" thread) as soon
as the thread is able to do so. If necessary, however, you may call <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#executePendingTransactions()">executePendingTransactions()</a></code> from your UI thread to immediately execute
transactions submitted by <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code>. Doing so is
usually not necessary unless the transaction is a dependency for jobs in other threads.</p>

<p class="caution"><strong>Caution:</strong> You can commit a transaction using <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commit()">commit()</a></code> only prior to the activity <a href="https://developer.android.com/guide/components/activities.html#SavingActivityState">saving its
state</a> (when the user leaves the activity). If you attempt to commit after that point, an
exception will be thrown. This is because the state after the commit can be lost if the activity
needs to be restored. For situations in which its okay that you lose the commit, use <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#commitAllowingStateLoss()">commitAllowingStateLoss()</a></code>.</p>




<h2 id="CommunicatingWithActivity" style="padding-bottom: 0px;">Communicating with the Activity</h2><hr>

<p>Although a <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> is implemented as an object that's independent from an
<code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html">FragmentActivity</a></code> and can be used inside multiple activities, a given instance of
a fragment is directly tied to the activity that contains it.</p>

<p>Specifically, the fragment can access the <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentActivity.html">FragmentActivity</a></code> instance with <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#getActivity()">getActivity()</a></code> and easily perform tasks such as find a view in the
activity layout:</p>

<pre class="prettyprint"><span class="typ">View</span><span class="pln"> listView </span><span class="pun">=</span><span class="pln"> </span><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#getActivity()"><span class="pln">getActivity</span><span class="pun">()</span></a></code><span class="pun">.</span><code><a href="https://developer.android.com/reference/android/app/Activity.html#findViewById(int)"><span class="pln">findViewById</span></a></code><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">list</span><span class="pun">);</span></pre>

<p>Likewise, your activity can call methods in the fragment by acquiring a reference to the
<code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code> from <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html">FragmentManager</a></code>, using <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#findFragmentById(int)">findFragmentById()</a></code> or <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentManager.html#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>. For example:</p>

<pre class="prettyprint"><span class="typ">ExampleFragment</span><span class="pln"> fragment </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">ExampleFragment</span><span class="pun">)</span><span class="pln"> getFragmentManager</span><span class="pun">().</span><span class="pln">findFragmentById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">example_fragment</span><span class="pun">);</span></pre>


<h3 id="EventCallbacks">Creating event callbacks to the activity</h3>

<p>In some cases, you might need a fragment to share events with the activity. A good way to do that
is to define a callback interface inside the fragment and require that the host activity implement
it. When the activity receives a callback through the interface, it can share the information with
other fragments in the layout as necessary.</p>

<p>For example, if a news application has two fragments in an activity—one to show a list of
articles (fragment A) and another to display an article (fragment B)—then fragment A must tell
the activity when a list item is selected so that it can tell fragment B to display the article. In
this case, the <code>OnArticleSelectedListener</code> interface is declared inside fragment A:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FragmentA</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ListFragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Container Activity must implement this interface</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">OnArticleSelectedListener</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onArticleSelected</span><span class="pun">(</span><span class="typ">Uri</span><span class="pln"> articleUri</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>Then the activity that hosts the fragment implements the <code>OnArticleSelectedListener</code>
interface and
overrides <code>onArticleSelected()</code> to notify fragment B of the event from fragment A. To ensure
that the host activity implements this interface, fragment A's <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onAttach(android.content.Context)">onAttach()</a></code> callback method (which the system calls when adding
the fragment to the activity) instantiates an instance of <code>OnArticleSelectedListener</code> by
casting the <code><a href="https://developer.android.com/reference/android/app/Activity.html">Activity</a></code> that is passed into <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onAttach(android.content.Context)">onAttach()</a></code>:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FragmentA</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ListFragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">OnArticleSelectedListener</span><span class="pln"> mListener</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onAttach</span><span class="pun">(</span><span class="typ">Context</span><span class="pln"> context</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onAttach</span><span class="pun">(</span><span class="pln">context</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mListener </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">OnArticleSelectedListener</span><span class="pun">)</span><span class="pln"> context</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">ClassCastException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ClassCastException</span><span class="pun">(</span><span class="pln">context</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" must implement OnArticleSelectedListener"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>If the activity has not implemented the interface, then the fragment throws a
<code><a href="https://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></code>.
On success, the <code>mListener</code> member holds a reference to activity's implementation of
<code>OnArticleSelectedListener</code>, so that fragment A can share events with the activity by calling
methods defined by the <code>OnArticleSelectedListener</code> interface. For example, if fragment A is an
extension of <code><a href="https://developer.android.com/reference/android/support/v4/app/ListFragment.html">ListFragment</a></code>, each time
the user clicks a list item, the system calls <code><a href="https://developer.android.com/reference/android/support/v4/app/ListFragment.html#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> in the fragment, which then calls <code>onArticleSelected()</code> to share
the event with the activity:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FragmentA</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ListFragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">OnArticleSelectedListener</span><span class="pln"> mListener</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onListItemClick</span><span class="pun">(</span><span class="typ">ListView</span><span class="pln"> l</span><span class="pun">,</span><span class="pln"> </span><span class="typ">View</span><span class="pln"> v</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> position</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Append the clicked item's row ID with the content provider Uri</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Uri</span><span class="pln"> noteUri </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ContentUris</span><span class="pun">.</span><code><a href="https://developer.android.com/reference/android/content/ContentUris.html#withAppendedId(android.net.Uri, long)"><span class="pln">withAppendedId</span></a></code><span class="pun">(</span><span class="typ">ArticleColumns</span><span class="pun">.</span><span class="pln">CONTENT_URI</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Send the event and Uri to the host activity</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; mListener</span><span class="pun">.</span><span class="pln">onArticleSelected</span><span class="pun">(</span><span class="pln">noteUri</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>The <code>id</code> parameter passed to <code><a href="https://developer.android.com/reference/android/support/v4/app/ListFragment.html#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> is the row ID of the clicked item,
which the activity (or other fragment) uses to fetch the article from the application's <code><a href="https://developer.android.com/reference/android/content/ContentProvider.html">ContentProvider</a></code>.</p>

<p><!--To see a complete implementation of this kind of callback interface, see the <a
href="https://developer.android.com/resources/samples/NotePad/index.html">NotePad sample</a>. -->More information about
using a content provider is available in the <a href="https://developer.android.com/guide/topics/providers/content-providers.html">Content Providers</a> document.</p>



<h3 id="ActionBar">Adding items to the App Bar</h3>

<p>Your fragments can contribute menu items to the activity's <a href="https://developer.android.com/guide/topics/ui/menus.html#options-menu">Options Menu</a> (and, consequently, the <a href="https://developer.android.com/training/appbar/index.html">app bar</a>) by implementing
<code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>. In order
for this method to receive calls, however, you must call <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#setHasOptionsMenu(boolean)">setHasOptionsMenu()</a></code> during <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreate(android.os.Bundle)">onCreate()</a></code>, to indicate that the fragment
would like to add items to the Options Menu (otherwise, the fragment will not receive a call to
<code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>).</p>

<p>Any items that you then add to the Options Menu from the fragment are appended to the existing
menu items. The fragment also receives callbacks to <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> when a menu item
is selected.</p>

<p>You can also register a view in your fragment layout to provide a context menu by calling <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code>. When the user opens
the context menu, the fragment receives a call to <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>. When the user selects an item, the fragment receives a call to <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onContextItemSelected(android.view.MenuItem)">onContextItemSelected()</a></code>.</p>

<p class="note"><strong>Note:</strong> Although your fragment receives an on-item-selected callback
for each menu item it adds, the activity is first to receive the respective callback when the user
selects a menu item. If the activity's implementation of the on-item-selected callback does not
handle the selected item, then the event is passed to the fragment's callback. This is true for
the Options Menu and context menus.</p>

<p>For more information about menus, see the <a href="https://developer.android.com/guide/topics/ui/menus.html">Menus</a> developer guide and the <a href="https://developer.android.com/training/appbar/index.html">App Bar</a> training class.</p>




<h2 id="Lifecycle" style="padding-bottom: 0px;">Handling the Fragment Lifecycle</h2><hr>

<div class="figure" style="width:350px">
<img src="./Fragments _ Android Developers_files/activity_fragment_lifecycle.png" alt="">
<p class="img-caption"><strong>Figure 3.</strong> The effect of the activity lifecycle on the fragment
lifecycle.</p>
</div>

<p>Managing the lifecycle of a fragment is a lot like managing the lifecycle of an activity. Like
an activity, a fragment can exist in three states:</p>

<dl>
  <dt><i>Resumed</i></dt>
    <dd>The fragment is visible in the running activity.</dd>

  <dt><i>Paused</i></dt>
    <dd>Another activity is in the foreground and has focus, but the activity in which this
fragment lives is still visible (the foreground activity is partially transparent or doesn't
cover the entire screen).</dd>

  <dt><i>Stopped</i></dt>
    <dd>The fragment is not visible. Either the host activity has been stopped or the
fragment has been removed from the activity but added to the back stack. A stopped fragment is
still alive (all state and member information is retained by the system). However, it is no longer
visible to the user and will be killed if the activity is killed.</dd>
</dl>

<p>Also like an activity, you can retain the state of a fragment using a <code><a href="https://developer.android.com/reference/android/os/Bundle.html">Bundle</a></code>, in case the activity's process is killed and you need to restore the
fragment state when the activity is recreated. You can save the state during the fragment's <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> callback and restore it during
either <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, or <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code>. For more information about saving
state, see the <a href="https://developer.android.com/guide/components/activities.html#SavingActivityState">Activities</a>
document.</p>

<p>The most significant difference in lifecycle between an activity and a fragment is how one is
stored in its respective back stack. An activity is placed into a back stack of activities
that's managed by the system when it's stopped, by default (so that the user can navigate back
to it with the <em>Back</em> button, as discussed in <a href="https://developer.android.com/guide/components/tasks-and-back-stack.html">Tasks and Back Stack</a>).
However, a fragment is placed into a back stack managed by the host activity only when you
explicitly request that the instance be saved by calling <code><a href="https://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#addToBackStack(java.lang.String)">addToBackStack()</a></code> during a transaction that
removes the fragment.</p>

<p>Otherwise, managing the fragment lifecycle is very similar to managing the activity
lifecycle. So, the same practices for <a href="https://developer.android.com/guide/components/activities.html#Lifecycle">managing the activity
lifecycle</a> also apply to fragments. What you also need to understand, though, is how the life
of the activity affects the life of the fragment.</p>

<p class="caution"><strong>Caution:</strong> If you need a <code><a href="https://developer.android.com/reference/android/content/Context.html">Context</a></code> object
within your <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html">Fragment</a></code>, you can call <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#getContext()">getContext()</a></code>.
However, be careful to call <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#getContext()">getContext()</a></code> only when the fragment is
attached to an activity. When the fragment is not yet attached, or was detached during the end of
its lifecycle, <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#getContext()">getContext()</a></code> will return null.</p>


<h3 id="CoordinatingWithActivity">Coordinating with the activity lifecycle</h3>

<p>The lifecycle of the activity in which the fragment lives directly affects the lifecycle of the
fragment, such that each lifecycle callback for the activity results in a similar callback for each
fragment. For example, when the activity receives <code><a href="https://developer.android.com/reference/android/app/Activity.html#onPause()">onPause()</a></code>, each
fragment in the activity receives <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onPause()">onPause()</a></code>.</p>

<p>Fragments have a few extra lifecycle callbacks, however, that handle unique interaction with the
activity in order to perform actions such as build and destroy the fragment's UI. These additional
callback methods are:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onAttach(android.content.Context)">onAttach()</a></code></dt>
    <dd>Called when the fragment has been associated with the activity (the <code><a href="https://developer.android.com/reference/android/app/Activity.html">Activity</a></code> is passed in here).</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
    <dd>Called to create the view hierarchy associated with the fragment.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code></dt>
    <dd>Called when the activity's <code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> method has returned.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onDestroyView()">onDestroyView()</a></code></dt>
    <dd>Called when the view hierarchy associated with the fragment is being removed.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onDetach()">onDetach()</a></code></dt>
    <dd>Called when the fragment is being disassociated from the activity.</dd>
</dl>

<p>The flow of a fragment's lifecycle, as it is affected by its host activity, is illustrated
by figure 3. In this figure, you can see how each successive state of the activity determines which
callback methods a fragment may receive. For example, when the activity has received its <code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> callback, a fragment in the activity receives no more than
the <code><a href="https://developer.android.com/reference/android/support/v4/app/Fragment.html#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code> callback.</p>

<p>Once the activity reaches the resumed state, you can freely add and remove fragments to the
activity. Thus, only while the activity is in the resumed state can the lifecycle of a fragment
change independently.</p>

<p>However, when the activity leaves the resumed state, the fragment again is pushed through its
lifecycle by the activity.</p>




<h2 id="Example" style="padding-bottom: 0px;">Example</h2><hr>

<p>To bring everything discussed in this document together, here's an example of an activity
using two fragments to create a two-pane layout. The activity below includes one fragment to
show a list of Shakespeare play titles and another to show a summary of the play when selected
from the list. It also demonstrates how to provide different configurations of the fragments,
based on the screen configuration.</p>

<p class="note"><strong>Note:</strong> The complete source code for this activity is available in
the
<a href="https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java">
sample app </a>showing use of an example <code>FragmentLayout</code> class.</p>

<p>The main activity applies a layout in the usual way, during <code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code>:</p>

<pre class="prettyprint"><span class="lit">@Override</span><span class="pln"><br></span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; setContentView</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">layout</span><span class="pun">.</span><span class="pln">fragment_layout</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>The layout applied is <code>fragment_layout.xml</code>:</p>

<pre class="prettyprint"><span class="tag">&lt;LinearLayout</span><span class="pln"> </span><span class="atn">xmlns:android</span><span class="pun">=</span><span class="atv">"http://schemas.android.com/apk/res/android"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:orientation</span><span class="pun">=</span><span class="atv">"horizontal"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="tag">&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;fragment</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"com.example.android.apis.app.FragmentLayout$TitlesFragment"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:id</span><span class="pun">=</span><span class="atv">"@+id/titles"</span><span class="pln"> </span><span class="atn">android:layout_weight</span><span class="pun">=</span><span class="atv">"1"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"0px"</span><span class="pln"> </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;FrameLayout</span><span class="pln"> </span><span class="atn">android:id</span><span class="pun">=</span><span class="atv">"@+id/details"</span><span class="pln"> </span><span class="atn">android:layout_weight</span><span class="pun">=</span><span class="atv">"1"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"0px"</span><span class="pln"> </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:background</span><span class="pun">=</span><span class="atv">"?android:attr/detailsElementBackground"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br><br></span><span class="tag">&lt;/LinearLayout&gt;</span></pre>

<p>Using this layout, the system instantiates the <code>TitlesFragment</code> (which lists the play
titles) as soon as the activity loads the layout, while the <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html">FrameLayout</a></code>
(where the fragment for showing the play summary will go) consumes space on the right side of the
screen, but remains empty at first. As you'll see below, it's not until the user selects an item
from the list that a fragment is placed into the <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html">FrameLayout</a></code>.</p>

<p>However, not all screen configurations are wide enough to show both the list of
plays and the summary, side by side. So, the layout above is used only for the landscape
screen configuration, by saving it at <code>res/layout-land/fragment_layout.xml</code>.</p>

<p>Thus, when the screen is in portrait orientation, the system applies the following layout, which
is saved at <code>res/layout/fragment_layout.xml</code>:</p>

<pre class="prettyprint"><span class="tag">&lt;FrameLayout</span><span class="pln"> </span><span class="atn">xmlns:android</span><span class="pun">=</span><span class="atv">"http://schemas.android.com/apk/res/android"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;fragment</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"com.example.android.apis.app.FragmentLayout$TitlesFragment"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:id</span><span class="pun">=</span><span class="atv">"@+id/titles"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:layout_width</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="atn">android:layout_height</span><span class="pun">=</span><span class="atv">"match_parent"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;/FrameLayout&gt;</span></pre>

<p>This layout includes only <code>TitlesFragment</code>. This means that, when the device is in
portrait orientation, only the list of play titles is visible. So, when the user clicks a list
item in this configuration, the application will start a new activity to show the summary,
instead of loading a second fragment.</p>

<p>Next, you can see how this is accomplished in the fragment classes. First is <code>TitlesFragment</code>, which shows the list of Shakespeare play titles. This fragment extends <code><a href="https://developer.android.com/reference/android/app/ListFragment.html">ListFragment</a></code> and relies on it to handle most of the list view work.</p>

<p>As you inspect this code, notice that there are two possible behaviors when the user clicks a
list item: depending on which of the two layouts is active, it can either create and display a new
fragment to show the details in the same activity (adding the fragment to the <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html">FrameLayout</a></code>), or start a new activity (where the fragment can be shown).</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TitlesFragment</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ListFragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pln"> mDualPane</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> mCurCheckPosition </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onActivityCreated</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onActivityCreated</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Populate list with our static array of titles.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; setListAdapter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayAdapter</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;(</span><span class="pln">getActivity</span><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; android</span><span class="pun">.</span><span class="pln">R</span><span class="pun">.</span><span class="pln">layout</span><span class="pun">.</span><span class="pln">simple_list_item_activated_1</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Shakespeare</span><span class="pun">.</span><span class="pln">TITLES</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Check to see if we have a frame in which to embed the details</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// fragment directly in the containing UI.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">View</span><span class="pln"> detailsFrame </span><span class="pun">=</span><span class="pln"> getActivity</span><span class="pun">().</span><span class="pln">findViewById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">details</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; mDualPane </span><span class="pun">=</span><span class="pln"> detailsFrame </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> detailsFrame</span><span class="pun">.</span><span class="pln">getVisibility</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="typ">View</span><span class="pun">.</span><span class="pln">VISIBLE</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">savedInstanceState </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Restore last state for checked position.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mCurCheckPosition </span><span class="pun">=</span><span class="pln"> savedInstanceState</span><span class="pun">.</span><span class="pln">getInt</span><span class="pun">(</span><span class="str">"curChoice"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mDualPane</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// In dual-pane mode, the list view highlights the selected item.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getListView</span><span class="pun">().</span><span class="pln">setChoiceMode</span><span class="pun">(</span><span class="typ">ListView</span><span class="pun">.</span><span class="pln">CHOICE_MODE_SINGLE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Make sure our UI is in the correct state.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showDetails</span><span class="pun">(</span><span class="pln">mCurCheckPosition</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onSaveInstanceState</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> outState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onSaveInstanceState</span><span class="pun">(</span><span class="pln">outState</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; outState</span><span class="pun">.</span><span class="pln">putInt</span><span class="pun">(</span><span class="str">"curChoice"</span><span class="pun">,</span><span class="pln"> mCurCheckPosition</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onListItemClick</span><span class="pun">(</span><span class="typ">ListView</span><span class="pln"> l</span><span class="pun">,</span><span class="pln"> </span><span class="typ">View</span><span class="pln"> v</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> position</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; showDetails</span><span class="pun">(</span><span class="pln">position</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">/**<br>&nbsp; &nbsp; &nbsp;* Helper function to show the details of a selected item, either by<br>&nbsp; &nbsp; &nbsp;* displaying a fragment in-place in the current UI, or starting a<br>&nbsp; &nbsp; &nbsp;* whole new activity in which it is displayed.<br>&nbsp; &nbsp; &nbsp;*/</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">void</span><span class="pln"> showDetails</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; mCurCheckPosition </span><span class="pun">=</span><span class="pln"> index</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mDualPane</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// We can display everything in-place with fragments, so update</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// the list to highlight the selected item and show the data.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getListView</span><span class="pun">().</span><span class="pln">setItemChecked</span><span class="pun">(</span><span class="pln">index</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Check what fragment is currently shown, replace if needed.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DetailsFragment</span><span class="pln"> details </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">DetailsFragment</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getSupportFragmentManager</span><span class="pun">().</span><span class="pln">findFragmentById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">details</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">details </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> details</span><span class="pun">.</span><span class="pln">getShownIndex</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Make new fragment to show this selection.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; details </span><span class="pun">=</span><span class="pln"> </span><span class="typ">DetailsFragment</span><span class="pun">.</span><span class="pln">newInstance</span><span class="pun">(</span><span class="pln">index</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Execute a transaction, replacing any existing fragment</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// with this one inside the frame.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">FragmentTransaction</span><span class="pln"> ft </span><span class="pun">=</span><span class="pln"> getSupportFragmentManager</span><span class="pun">().</span><span class="pln">beginTransaction</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">index </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">details</span><span class="pun">,</span><span class="pln"> details</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">a_item</span><span class="pun">,</span><span class="pln"> details</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">setTransition</span><span class="pun">(</span><span class="typ">FragmentTransaction</span><span class="pun">.</span><span class="pln">TRANSIT_FRAGMENT_FADE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">commit</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Otherwise we need to launch a new activity to display</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// the dialog fragment with selected text.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Intent</span><span class="pln"> intent </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Intent</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intent</span><span class="pun">.</span><span class="pln">setClass</span><span class="pun">(</span><span class="pln">getActivity</span><span class="pun">(),</span><span class="pln"> </span><span class="typ">DetailsActivity</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intent</span><span class="pun">.</span><span class="pln">putExtra</span><span class="pun">(</span><span class="str">"index"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startActivity</span><span class="pun">(</span><span class="pln">intent</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>The second fragment, <code>DetailsFragment</code> shows the play summary for the item selected from
the list from <code>TitlesFragment</code>:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DetailsFragment</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Fragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">/**<br>&nbsp; &nbsp; &nbsp;* Create a new instance of DetailsFragment, initialized to<br>&nbsp; &nbsp; &nbsp;* show the text at 'index'.<br>&nbsp; &nbsp; &nbsp;*/</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">DetailsFragment</span><span class="pln"> newInstance</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DetailsFragment</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DetailsFragment</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Supply index input as an argument.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Bundle</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Bundle</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; args</span><span class="pun">.</span><span class="pln">putInt</span><span class="pun">(</span><span class="str">"index"</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; f</span><span class="pun">.</span><span class="pln">setArguments</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> f</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getShownIndex</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> getArguments</span><span class="pun">().</span><span class="pln">getInt</span><span class="pun">(</span><span class="str">"index"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">View</span><span class="pln"> onCreateView</span><span class="pun">(</span><span class="typ">LayoutInflater</span><span class="pln"> inflater</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ViewGroup</span><span class="pln"> container</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">container </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// We have different layouts, and in one of them this</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// fragment's containing frame doesn't exist. &nbsp;The fragment</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// may still be created from its saved state, but there is</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// no reason to try to create its view hierarchy because it</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// won't be displayed. &nbsp;Note this is not needed -- we could</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// just run the code below, where we would create and return</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// the view hierarchy; it would just never be used.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ScrollView</span><span class="pln"> scroller </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ScrollView</span><span class="pun">(</span><span class="pln">getActivity</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">TextView</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextView</span><span class="pun">(</span><span class="pln">getActivity</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> padding </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pun">)</span><span class="typ">TypedValue</span><span class="pun">.</span><span class="pln">applyDimension</span><span class="pun">(</span><span class="typ">TypedValue</span><span class="pun">.</span><span class="pln">COMPLEX_UNIT_DIP</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> getActivity</span><span class="pun">().</span><span class="pln">getResources</span><span class="pun">().</span><span class="pln">getDisplayMetrics</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; text</span><span class="pun">.</span><span class="pln">setPadding</span><span class="pun">(</span><span class="pln">padding</span><span class="pun">,</span><span class="pln"> padding</span><span class="pun">,</span><span class="pln"> padding</span><span class="pun">,</span><span class="pln"> padding</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; scroller</span><span class="pun">.</span><span class="pln">addView</span><span class="pun">(</span><span class="pln">text</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; text</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="typ">Shakespeare</span><span class="pun">.</span><span class="pln">DIALOGUE</span><span class="pun">[</span><span class="pln">getShownIndex</span><span class="pun">()]);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> scroller</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>Recall from the <code>TitlesFragment</code> class, that, if the user clicks a list item and the
current layout does <em>not</em> include the <code>R.id.details</code> view (which is where the
<code>DetailsFragment</code> belongs), then the application starts the <code>DetailsActivity</code>
activity to display the content of the item.</p>

<p>Here is the <code>DetailsActivity</code>, which simply embeds the <code>DetailsFragment</code> to display
the selected play summary when the screen is in portrait orientation:</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DetailsActivity</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">FragmentActivity</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getResources</span><span class="pun">().</span><span class="pln">getConfiguration</span><span class="pun">().</span><span class="pln">orientation<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">==</span><span class="pln"> </span><span class="typ">Configuration</span><span class="pun">.</span><span class="pln">ORIENTATION_LANDSCAPE</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// If the screen is now in landscape mode, we can show the</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// dialog in-line with the list so we don't need this activity.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; finish</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">savedInstanceState </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// During initial setup, plug in the details fragment.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DetailsFragment</span><span class="pln"> details </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DetailsFragment</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; details</span><span class="pun">.</span><span class="pln">setArguments</span><span class="pun">(</span><span class="pln">getIntent</span><span class="pun">().</span><span class="pln">getExtras</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getSupportFragmentManager</span><span class="pun">().</span><span class="pln">beginTransaction</span><span class="pun">().</span><span class="pln">add</span><span class="pun">(</span><span class="pln">android</span><span class="pun">.</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">content</span><span class="pun">,</span><span class="pln"> details</span><span class="pun">).</span><span class="pln">commit</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>Notice that this activity finishes itself if the configuration is landscape, so that the main
activity can take over and display the <code>DetailsFragment</code> alongside the <code>TitlesFragment</code>.
This can happen if the user begins the <code>DetailsActivity</code> while in portrait orientation, but
then rotates to landscape (which restarts the current activity).</p>


<p>For more samples using fragments (and complete source files for this example),
see the API Demos sample app available in <a href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/index.html#Fragment">
ApiDemos</a> (available for download from the <a href="https://developer.android.com/resources/samples/get.html">Samples SDK component</a>).</p>





    </div>

    

  
    
  
    




  


<footer class="devsite-footer-promos nocontent">
  <nav class="devsite-full-site-width">
    <ul class="devsite-footer-promos-list">
      
      <li class="devsite-footer-promo">
        <a href="https://twitter.com/AndroidDev" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./Fragments _ Android Developers_files/logo-twitter.svg">
          
          
            Twitter
          
        </a>
        <div class="devsite-footer-promo-description">Follow @AndroidDev on Twitter</div>
      </li>
      
      <li class="devsite-footer-promo">
        <a href="https://plus.google.com/+AndroidDevelopers" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google+ Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./Fragments _ Android Developers_files/google_plus_48dp.png">
          
          
            Google+
          
        </a>
        <div class="devsite-footer-promo-description">Follow Android Developers on Google+</div>
      </li>
      
      <li class="devsite-footer-promo">
        <a href="https://www.youtube.com/user/androiddevelopers" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./Fragments _ Android Developers_files/youtube_48dp.png">
          
          
            YouTube
          
        </a>
        <div class="devsite-footer-promo-description">Check out Android Developers on YouTube</div>
      </li>
      
    </ul>
  </nav>
</footer>



<div class="wrap dac-footer-container">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of1">
        <div class="dac-footer-contact">
          
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html" title="Newsletter">Newsletter</a>
          
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Blog" target="_blank">Blog</a>
          
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html" title="Support">Support</a>
          
          <a class="dac-footer-contact-link" href="https://docs.google.com/forms/d/e/1FAIpQLSf27XIxoFmNpTjTYdk-m1uKWGqEnd7_4C_E1AD5fdCfyTBWNA/viewform?usp=pp_url&amp;entry.1909689089&amp;entry.208743710&amp;entry.408796755&amp;entry.1341430893&amp;entry.594931249&amp;entry.1640656812&amp;entry.1759804042&amp;entry.1441312344=developer.android.com" title="Join user studies" target="_blank">Join user studies</a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator">
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      
      <a href="https://developer.android.com/" title="Android Developers">Android Developers</a>
      
      <a href="https://developer.android.com/studio/index.html" title="Android Studio">Android Studio</a>
      
      <a href="https://developer.android.com/distribute/console/index.html" title="Google Play Console">Google Play Console</a>
      
      <a href="https://developer.android.com/legal.html" title="Legal Notice">Legal Notice</a>
    </p>

    
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="mPJA-jeYecsVp1IodBzLExrPnCX94Y3sSxIn-41D0c46MTUxMTgwNzM1ODUyNzcxMA">
      <input type="hidden" name="next" value="/guide/components/fragments.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id">
            Bahasa Indonesia
          </option>
          
          <option value="de">
            Deutsch
          </option>
          
          <option value="en" selected="selected">
            English
          </option>
          
          <option value="es">
            español
          </option>
          
          <option value="es-419">
            Español (América Latina)
          </option>
          
          <option value="fr">
            français
          </option>
          
          <option value="pt-br">
            Português Brasileiro
          </option>
          
          <option value="vi">
            Tiếng Việt
          </option>
          
          <option value="tr">
            Türkçe
          </option>
          
          <option value="ru">
            Русский
          </option>
          
          <option value="th">
            ภาษาไทย
          </option>
          
          <option value="ja">
            日本語
          </option>
          
          <option value="zh-cn">
            简体中文
          </option>
          
          <option value="zh-tw">
            繁體中文
          </option>
          
          <option value="ko">
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast="">
    <div class="dac-toast-wrap">
      
      This site uses cookies to store your preferences for site-specific language and display options.
      <button class="dac-toast-close-btn">
        
        <span class="dac-button dac-raised dac-primary">OK</span>
      </button>
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb="" data-swap="" class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <div class="dac-swap" data-swap-container="">
          <section class="dac-swap-section dac-active dac-down">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container="">
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Email address</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected="">English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required="" value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required="" value="I acknowledge that the information provided in this form will be subject to Google&#39;s privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html="">I acknowledge that the information provided in this form will be subject to Google's <a href="https://www.google.com/policies/privacy/" target="_blank">privacy policy</a>.</span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <script src="./Fragments _ Android Developers_files/api.js.download"></script>
                      <div class="g-recaptcha" data-sitekey="6Lfc9CkTAAAAAEdusoAjrREyhAgNE1ppGE1Fc5q0"><div style="width: 304px; height: 78px;"><div><iframe src="./Fragments _ Android Developers_files/anchor.html" width="304" height="78" role="presentation" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">You have successfully signed up for the latest Android developer news and tips.</p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->

<div data-modal="wechat" class="dac-modal">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section>
          
          <h2 class="norule dac-modal-header-title">Follow Google Developers on WeChat</h2>
        </section>
      </header>
      <section class="dac-modal-content figure-center center-img">
        <img src="./Fragments _ Android Developers_files/qr-wechat.png">
      </section>
    </div>
  </div>
</div><!--/.dac-modal[dac-modal=wechat]-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            
            Browse this site in <span class="span-target-lang">English</span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    
                    You requested a page in <span class="span-target-lang">English</span>, but your language preference for this site is <span class="span-current-lang">English</span>.
                  </p>
                  <p id="resetLangCta">
                    
                    Would you like to change your language preference and browse this site in <span class="span-target-lang">English</span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/guide/components/fragments.html#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle="">Change Language</button>
            </a>
            <a href="https://developer.android.com/guide/components/fragments.html#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle="">Not Now</button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/guide/components/fragments.html#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok" data-modal-toggle="">
                
                OK, make this page visible
              </button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="./Fragments _ Android Developers_files/ytblogger_lists_unified.js.download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/android_metadata_en.js.download" defer=""></script>
  
  <script src="./Fragments _ Android Developers_files/lists.js.download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/gms_lists.js.download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/lists.js(1).download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/lists.js(2).download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/lists.js(3).download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/lists.js(4).download" defer=""></script>
  <script src="./Fragments _ Android Developers_files/saved_resource"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_en.js?v=2017112706" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
      devsite.navigatingRadio.init();
      devsite.kennedy.InitializeTabbars();
      // overflowMenu must be initialized after tabbar.
      devsite.overflowMenu.init();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a short survey?
    </div>
    <div class="material-dialog-description">
      Help us improve the Android developer experience.
      <br>(Sep 2017 survey)
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank" href="https://goo.gl/dNPzCR">Okay</a>
      <a class="dac-button" href="https://developer.android.com/guide/components/fragments.html#">No thanks</a>
    </div>
  </div>
</div>



<table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 2px; display: none; top: 3px; position: absolute; left: -1px;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table><div style="background-color: #fff; border: 1px solid #ccc; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2); position: absolute; left: 0px; top: -10000px; transition: visibility 0s linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: #fff; opacity: 0.05;  filter: alpha(opacity=5)"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="./Fragments _ Android Developers_files/bframe.html" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" name="x76yxvwq8mqk" style="width: 100%; height: 100%;"></iframe></div></div></body></html>